<!DOCTYPE html><!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]--><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>MongoDB Import Error UTF8 Unexpected Error | Johann du Toit</title><meta name="description" content="&lt;p&gt;Was trying to import a CSV file into Mongo but keep getting the error.&lt;/p&gt;

&lt;pre class=&quot;prettyprint&quot;&gt;exception:Invalid UTF8 character detected&lt;/pre&gt;

&lt;p&gt;After a heart racing 30 minutes I found the solution.&lt;/p&gt;

&lt;p&gt;First run:&lt;/p&gt;

&lt;pre class=&quot;prettypri..."><meta itemprop="image" content="http://www.johann.co.za/img/johann.jpg"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="alternate" type="application/rss+xml" title="Atom Feed" href="http://feeds.feedburner.com/JohannduToit"><link rel="canonical" href="http://johanndutoit.net/"><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600" rel="stylesheet" media="all"><link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css" media="all"><link href="/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" media="all"><link href="/css/style.css" rel="stylesheet" type="text/css" media="all"></head><body><div id="headerblock" class="container-fluid"><div class="container"><div class="row"><div class="span8 offset2"><div id="title-bar"><a id="header_about_link" style="float:right;margin-top:2px;" href="/">About</a><a id="blog-name" href="/"><h3>Johann du Toit</h3></a><span id="slogan-block" style="margin-left:5px;margin-top:5px;"><p>| My crazy adventures with Computers.</p></span></div><div style="margin-bottom:10px;" class="clearfix"></div></div></div></div></div><div id="mainpage"><div id="main-page-container" class="container"><div class="row"><div class="span8 offset2"><div style="margin:20px;"><p>Was trying to import a CSV file into Mongo but keep getting the error.</p>

<pre class="prettyprint">exception:Invalid UTF8 character detected</pre>

<p>After a heart racing 30 minutes I found the solution.</p>

<p>First run:</p>

<pre class="prettyprint">iconv -f ISO-8859-1 -t utf-8 a.txt %3E a8.txt</pre>

<p>This command simply convert the file to UTF-8. You can then run the normal Mongo Import:</p>

<p><pre class="prettyprint">./bin/mongoimport -d {db_name} -c {collection} --type csv --file a8.txt --headerline</p>

<p>Just remember to change the filenames to your own !</p><hr><p style="font-size:14px;"> Posted on 2013/04/13 by <a href="/">Johann du Toit</a></p></div></div></div></div><div id="meta-block" class="linksbelow"><div class="container"><div class="row"><div style="padding:15px;padding-top:10px;" class="span8 offset2"><h3 style="margin:10px;">Recent Posts</h3><ul style="list-style-type: circle;"><li><a href="/2013/04/13/mongodb-import-error-utf8-unexpected-error.html">MongoDB Import Error UTF8 Unexpected Error</a></li><li><a href="/2013/04/13/hosting-my-blog-on-github.html">Hosting my Blog on Github</a></li><li><a href="/2013/01/08/the-daily-reporting-programmer.html">The Daily Reporting Programmer</a></li><li><a href="/2013/01/07/starting-my-bachelor-of-science-in-informatics.html">Starting my Bachelor of Science in Informatics</a></li><li><a href="/2013/01/07/searching-in-a-radius-using-postgres.html">Searching in a Radius using Postgres</a></li><li><a href="/2012/11/08/ie8-finally-losing-relevance-to-consumers.html">IE8 Finally Losing Relevance to consumers</a></li><li><a href="/2012/10/27/introducing-identichip.html">Introducing IdentiChip</a></li><li><a href="/2012/07/22/slow-down-cowboy.html">Slow Down Cowboy</a></li></ul><p style="margin-left:10px;margin-top:15px;"><a href="/archive.html"><View>all Posts</View></a></p></div></div></div></div></div><footer><div style="margin-top:0;" class="container"><div class="span8 offset2"><p>Copyright Johann du Toit 2012 - 2012 <a id="footer_subscribe_link" href="/atom.xml" style="margin-left:10px;margin-right:10px;">Subscribe to RSS</a><a id="footer_about_link" href="/">About</a></p></div></div></footer><script src="/js/prettify.min.js" type="text/javascript"></script><script type="text/javascript">window.prettyPrint && prettyPrint()
</script><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-13256670-7']);
_gaq.push(['_setDomainName', 'johanndutoit.net']);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script></body></html>